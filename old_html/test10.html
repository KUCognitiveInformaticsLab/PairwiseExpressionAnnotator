<!DOCTYPE html>
<html>
<head>
    <title>Figure Sorting</title>
</head>
<body>
    <h1>Figure Sorting</h1>
    <p>Click on the figure that is greater in each pair:</p>
    <div id="figures"></div>
    <div id="comparison"></div>
    <script>
        // Define the array of figures
        var figures = [
            {name: "A", value: 10},
            {name: "B", value: 7},
            {name: "C", value: 2},
            {name: "D", value: 5},
            {name: "E", value: 3},
            {name: "F", value: 8},
            {name: "G", value: 1},
            {name: "H", value: 4},
            {name: "I", value: 9},
            {name: "J", value: 6}
        ];

        // Define the array to record comparisons
        var comparisons = [];

        // Define the function to handle figure clicks
        function figureClicked(clickedFigure) {
            var otherFigure = figures.find(function(figure) {
                return figure != clickedFigure && figure.visible;
            });

            // Record the comparison and hide the two figures
            comparisons.push(clickedFigure.name + " > " + otherFigure.name);
            clickedFigure.visible = false;
            otherFigure.visible = false;

            // Show the remaining visible figures
            var visibleFigures = figures.filter(function(figure) {
                return figure.visible;
            });
            if (visibleFigures.length == 2) {
                displayFigures();
            } else {
                displaySortedFigures();
            }
        }

        // Define the function to display the figures
        function displayFigures() {
            var figuresDisplay = "";
            var visibleFigures = figures.filter(function(figure) {
                return figure.visible;
            });
            for (var i = 0; i < visibleFigures.length; i++) {
                var figure = visibleFigures[i];
                var figureDisplay = "<div style='display:inline-block;background-color:lightblue;margin:10px;width:50px;height:50px;border:1px solid black;text-align:center;' onclick='figureClicked(" + JSON.stringify(figure) + ")'>" + figure.name + "<br>" + figure.value + "</div>";
                figuresDisplay += figureDisplay;
            }
            document.getElementById("figures").innerHTML = figuresDisplay;
        }

        // Define the function to display the sorted figures
        function displaySortedFigures() {
            quicksort(figures, 0, figures.length - 1);

            var sortedDisplay = "";
            for (var i = 0; i < figures.length; i++) {
                var figure = figures[i];
                var figureDisplay = "<div style='display:inline-block;margin:10px;width:50px;height:50px;border:1px solid black;text-align:center;'>" + figure.name + "<br>" + figure.value + "</div>";
                sortedDisplay += figureDisplay;
            }
            document.getElementById("figures").innerHTML = sortedDisplay;
            var comparisonsDisplay = "<p>" + comparisons.join(", ") + "</p>";
            document.getElementById("comparison").innerHTML = comparisonsDisplay;
        }

        // Define the function to perform quicksort
        function quicksort(array, left, right) {
            if (left < right) {
                var pivotIndex = partition(array, left, right);
                quicksort(array, left, pivotIndex - 1);
                quicksort(array, pivotIndex + 
                right);
            }
        }

        // Define the function to perform partition
        function partition(array, left, right) {
            var pivot = array[right];
            var i = left - 1;
            for (var j = left; j < right; j++) {
                if (compare(array[j], pivot) < 0) {
                    i++;
                    swap(array, i, j);
                }
            }
            swap(array, i + 1, right);
            return i + 1;
        }

        // Define the comparison function
        function compare(a, b) {
            // var aDisplay = "<div style='display:none;'>" + a.value + "</div>" + a.name;
            // var bDisplay = "<div style='display:none;'>" + b.value + "</div>" + b.name;
            // document.getElementById("comparison").innerHTML = aDisplay + " vs " + bDisplay;
            // return prompt(aDisplay + " is greater than or less than " + bDisplay + "? (Enter 1 for greater, -1 for less than)");
            console.log(a);
            console.log(b);
            return 1;
        }

        // Define the swap function
        function swap(array, i, j) {
            var temp = array[i];
            array[i] = array[j];
            array[j] = temp;
        }

        // Set all figures to visible and display them
        figures.forEach(function(figure) {
            figure.visible = true;
        });
        displayFigures();
    </script>
</body>
</html>
