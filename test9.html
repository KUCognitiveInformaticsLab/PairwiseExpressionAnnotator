<!DOCTYPE html>
<html>
  <head>
    <title>Quicksort Example</title>
  </head>
  <body>
    <div id="sort">
      <h2>Quicksort Example</h2>
      <p>Click the "Next" button to perform one partition step:</p>
      <button onclick="nextStep()">Next</button>
      <p>Current state of array:</p>
      <div id="array"></div>
    </div>

    <script>
      // Define the array to be sorted
      var array = [10, 5, 4, 8, 3, 6, 1, 7, 9, 2];

      // Define the current partition index
      var partitionIndex = -1;

      // Define the quicksort algorithm
      function quicksort(array, left, right) {
        if (left < right) {
          var pivot = array[right];
          var i = left - 1;

          for (var j = left; j < right; j++) {
            if (array[j] < pivot) {
              i++;
              var temp = array[i];
              array[i] = array[j];
              array[j] = temp;
            }
          }

          var temp = array[i+1];
          array[i+1] = array[right];
          array[right] = temp;

          return i+1;
        }
      }

      // Define the function to perform one step of quicksort
      function nextStep() {
        partitionIndex++;
        if (partitionIndex >= array.length-1) {
          alert("Sorting complete!");
          return;
        }
        var newPartitionIndex = quicksort(array, partitionIndex, array.length-1);
        if (newPartitionIndex != null) {
          partitionIndex = newPartitionIndex - 1;
        }
        updateArrayDisplay();
      }

      // Define the function to update the displayed array
      function updateArrayDisplay() {
        var arrayDisplay = "";
        for (var i = 0; i < array.length; i++) {
          if (i == partitionIndex) {
            arrayDisplay += "<b>";
          }
          arrayDisplay += array[i];
          if (i == partitionIndex) {
            arrayDisplay += "</b>";
          }
          arrayDisplay += " ";
        }
        document.getElementById("array").innerHTML = arrayDisplay;
      }

      // Initial update of array display
      updateArrayDisplay();
    </script>
  </body>
</html>
